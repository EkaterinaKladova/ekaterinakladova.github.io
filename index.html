<!DOCTYPE html>
<html>

<head>
	<title>Our Universe</title>
	<link rel="stylesheet" href="css/default.css">
	<link rel="stylesheet" href="css/start.css">
	<link rel="icon" type="image/x-icon" href="images/page_icon.png">
	<script type="text/javascript" src="js/default.js"></script>
	<!-- <script type ="module" src="js/start.js"></script>-->
	<html lang="en-US" dir="ltr">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Login page for Our Universe">
</head>

<header>
	<h1>Our Universe</h1>
</header>

<body>
	<div id="firebaseui-auth-container"></div>
<div id="loader">Loading...</div>
	<div id="forms">
	<h2>Welcome!</h2><br>
		<div id="login_box"> 
			<p>Please log in below:</p>
			<form action="home.html" method="get" id="login_form">
				<label>Username<br>
				<input  name="username" placeholder="Ex. Rocket84" required><br>
				</label>
				<label>Password<br>
				<input type="password" name="password"  required><br>
				</label>
				<button type="submit">Log in</button><br>
			</form>
			<button id="reset_pass" type="button" onclick="resetPass()">Forgot Your Password?</button> 
			<!-- button is outside form since it's not technically using the form-->
		</div>
		<aside>
		<div id="register_box"> 
			<p>Please register below:</p>
			<form action="home.html" method="get" id="signup_form">
				<label >Username<br>
				<input  name="username" placeholder="Ex. Rocket84" required><br>
				</label>
				<label>Password<br>
				<input type="password" name="password"  required><br>
				</label>
				<label>Confirm Password<br>
				<input type="password" name="password2" required><br>
				</input>
				<button type="submit">Register</button>
			</form>
		</div>
	</div>
	</aside>
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
	<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCfTkra5djZesE-OTSqIzB6lgx3X09oZZg",
    authDomain: "ouruniverse-29e79.firebaseapp.com",
    databaseURL: "https://ouruniverse-29e79-default-rtdb.firebaseio.com",
    projectId: "ouruniverse-29e79",
    storageBucket: "ouruniverse-29e79.appspot.com",
    messagingSenderId: "1073119494568",
    appId: "1:1073119494568:web:c5744028fee2df7a101d9d",
    measurementId: "G-QKW60JL836"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
	
  const loginform = document.querySelector('#login_form');
	const signupform = document.querySelector('#signup_form')


	signupform.addEventListener('submit', (e) => {
		//Create Account
	firebase.auth().createUserWithEmailAndPassword(signupform.username.value, signupform.password.value)
  	.then((userCredential) => {
    // Signed in 
    var user = userCredential.user;
    // ...
  })
  .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
    // ..
  });
  signupform.reset();
});

	loginform.addEventListener('submit', (e) => {
	firebase.auth().signInWithEmailAndPassword(loginform.username.value, loginform.password.value)
  .then((userCredential) => {
    // Signed in
    var user = userCredential.user;
    // ...
  })
  .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
  });
  	loginform.reset();
	});
</script>
	<footer>
		<a href="documents/legal.txt" target="_blank">Legal Information</a>
	</footer>
</body>
</html>
